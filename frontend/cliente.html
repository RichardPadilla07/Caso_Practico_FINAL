<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Cliente</title>
  <style>
    * {
      font-family: 'Segoe UI', Arial, sans-serif;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      display: flex;
      align-items: center;
      gap: 20px;
      width: 90%;
      max-width: 1700px;
    }

    aside {
      width: 300px;
      background: #fff;
      color: #2575fc;
      padding: 50px 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(106, 17, 203, 0.15);
      height: 70vh;
      margin-left: 10px;
    }

    .admin-info {
      margin-bottom: 30px;
      text-align: center;
      font-size: 14px;
    }

    .admin-info div:first-child {
      font-weight: bold;
      font-size: 18px;
      color: #444;
    }

    .sidebar-btn {
      background: #fff;
      background: linear-gradient(90deg, #d32f2f, #2575fc);
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      font-size: 18px;
      padding: 15px 0;
      margin-bottom: 18px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(106, 17, 203, 0.08);
      width: 100%;
    }

    .sidebar-btn:hover {
      background: linear-gradient(90deg, #6a11cb, #2575fc);
      color: #fff;
    }

    main {
      flex: 1;
      max-width: 1500px;
      background: #fff;
      padding: 100px 30px;
      position: relative;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(106, 17, 203, 0.15);
      max-height: 650px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    main section {
      margin: auto;
    }


    .btn-salir {
      position: absolute;
      top: 20px;
      right: 20px;
      background: linear-gradient(90deg, #d32f2f, #2575fc);
      color: #fff;
      border: none;
      padding: 10px 30px;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      font-size: 18px;
    }

    .btn-salir:hover {
      background: linear-gradient(90deg, #6a11cb, #2575fc);
      color: #fff;
    }

    #form-producto,
    #form-cliente {
      max-width: 420px;
      margin: auto;
    }

    .input-login {
      background: #f3f3f3;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 6px;
      font-size: 16px;
      width: 100%;
    }

    .btn-login {
      background: linear-gradient(90deg, #6a11cb, #2575fc);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 18px;
      padding: 12px 0;
      cursor: pointer;
      width: 100%;
    }

    .btn-login:hover {
      opacity: 0.85;
    }

    table {
      border-collapse: collapse;
      width: 100%;
    }

    th,
    td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }

    th {
      background-color: #f3f3f3;
    }

    #carrusel-listar {
      max-width: 1500px;
    }

    .slide-listar {
      max-width: 1500px;
    }

    #slide-listar-cliente table,
    #slide-listar-producto table {
      min-width: 0;
      width: 100%;
    }

    @media (max-width: 700px) {
      .container {
        flex-direction: column;
        align-items: stretch;
        width: 100%;
        min-width: 0;
      }

      aside {
        width: 100%;
        margin-left: 0;
        margin-bottom: 20px;
        height: auto;
        padding: 30px 10px;
        border-radius: 0 0 20px 20px;
      }

      main {
        padding: 20px 10px;
        min-height: 400px;
        border-radius: 20px 20px 0 0;
      }

      #carrusel-crear {
        min-height: 0;
        max-width: 100%;
        padding: 0;
      }

      .slide-crear {
        max-width: 100%;
        min-width: 0;
      }

      #carrusel-crear>div {
        max-width: 100%;
      }

      #carrusel-crear button {
        width: 36px;
        height: 36px;
        font-size: 20px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <aside>
      <div class="admin-info">
        <div>Bienvenido - <span id="cliente-nombre"></span></div>
        <p></p>
        <div style="opacity: .9;">Rol - Cliente</div>
      </div>
      <button id="btn-perfil" class="sidebar-btn">Perfil</button>
      <button id="btn-listar" class="sidebar-btn">Listar</button>
      <button id="btn-carrito" class="sidebar-btn">Carrito</button>
      <button id="btn-pedidos" class="sidebar-btn">Pedidos</button>
    </aside>
    <main>
      <!-- ...otros módulos... -->
      <button onclick="window.location.href='index.html'" class="btn-salir">Salir</button>
      <section id="seccion-perfil" style="display:none;">
        <h2 style="color:#2575fc;margin-bottom:10px;">Perfil</h2>
        <p style="margin-bottom:20px;color:#444;">En este modulo puedes ver tus datos.</p>
        <div id="datos-perfil" style="background:#f3f3f3;padding:20px;border-radius:10px;max-width:400px;"></div>
        <button id="btn-actualizar-perfil" class="btn-login"
          style="margin-top:18px;width:100%;max-width:400px;">Actualizar perfil</button>
      </section>

      <!-- Modal para actualizar perfil -->
      <div id="modal-actualizar-perfil"
        style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);z-index:1000;justify-content:center;align-items:center;">
        <div
          style="background:#fff;padding:32px 28px;border-radius:16px;max-width:400px;width:90%;box-shadow:0 8px 32px rgba(106,17,203,0.15);position:relative;">
          <h2 style="color:#2575fc;margin-bottom:10px;">Editar perfil</h2>
          <form id="form-actualizar-perfil">
            <input type="text" name="cedula" placeholder="Cédula" required maxlength="10" class="input-login" disabled>
            <input type="text" name="nombre" placeholder="Nombre" required maxlength="20" class="input-login">
            <input type="text" name="apellido" placeholder="Apellido" required maxlength="20" class="input-login">
            <input type="email" name="email" placeholder="Email" required maxlength="40" class="input-login">
            <input type="text" name="ciudad" placeholder="Ciudad" maxlength="20" class="input-login">
            <input type="text" name="direccion" placeholder="Dirección" maxlength="20" class="input-login">
            <input type="text" name="telefono" placeholder="Teléfono" maxlength="10" class="input-login">
            <input type="date" name="fecha_nacimiento" placeholder="Fecha de nacimiento" class="input-login">
            <input type="password" name="password" placeholder="Nueva contraseña" class="input-login">
            <button type="submit" class="btn-login" style="margin-top:10px;">Guardar cambios</button>
            <button type="button" id="btn-cerrar-modal" class="btn-login"
              style="background:#d32f2f;margin-top:10px;">Cancelar</button>
          </form>
        </div>
      </div>

      <section id="seccion-listar" style="display:none;position:relative;">
        <div id="listar-productos" style="min-height:400px;width:100%;max-width:900px;margin:auto;">
          <h2 style="color:#2575fc;margin-bottom:10px;">Listar Productos</h2>
          <p style="margin-bottom:20px;color:#444;">En este modulo te permite ver todos los productos disponibles.</p>
          <div
            style="overflow-x:auto;background:#fff;padding:20px;border-radius:16px;box-shadow:0 8px 32px rgba(106,17,203,0.08);">
            <table style="min-width:700px;width:100%;">
              <thead>
                <tr>
                  <th>N°</th>
                  <th>Nombre</th>
                  <th>Código</th>
                  <th>Descripción</th>
                  <th>Categoría</th>
                  <th>Precio</th>
                  <th>Stock</th>
                  <th>Fecha ingreso</th>
                  <th>Proveedor</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tabla-productos-body"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Modal para editar producto -->
      <div id="modal-editar-producto"
        style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);z-index:1000;justify-content:center;align-items:center;">
        <div
          style="background:#fff;padding:32px 28px;border-radius:16px;max-width:500px;width:90%;box-shadow:0 8px 32px rgba(106,17,203,0.15);position:relative;">
          <h2 style="color:#2575fc;margin-bottom:10px;">Editar producto</h2>
          <form id="form-editar-producto">
            <input type="text" name="nombre" placeholder="Nombre" required maxlength="10" class="input-login">
            <input type="text" name="codigo" placeholder="Código" required maxlength="20" class="input-login">
            <input type="text" name="descripcion" placeholder="Descripción" maxlength="30" class="input-login">
            <input type="text" name="categoria" placeholder="Categoría" maxlength="20" class="input-login">
            <input type="number" name="precio" placeholder="Precio" step="0.01" required class="input-login">
            <input type="number" name="stock" placeholder="Stock" required class="input-login">
            <input type="date" name="fecha_ingreso" placeholder="Fecha ingreso" class="input-login">
            <input type="text" name="proveedor" placeholder="Proveedor" maxlength="20" class="input-login">
            <button type="submit" class="btn-login" style="margin-top:10px;">Guardar cambios</button>
            <button type="button" id="btn-cerrar-modal-editar" class="btn-login"
              style="background:#d32f2f;margin-top:10px;">Cancelar</button>
          </form>
        </div>
      </div>

      <section id="seccion-carrito" style="display:none;position:relative;">
        <div id="carrito" style="min-height:300px;width:100%;max-width:700px;margin:auto;">
          <h2 style="color:#2575fc;margin-bottom:10px;">Carrito</h2>
          <p style="margin-bottom:20px;color:#444;">En este modulo puedes ver tus productos seleccionados.</p>
          <div id="carrito-lista" style="display:flex;flex-wrap:wrap;gap:20px;"></div>
          <div id="carrito-vacio" style="color:#888;margin-top:20px;display:none;">No hay productos en el carrito.</div>
        </div>
      </section>

      <section id="seccion-pedidos" style="display:none;">
        <div id="carrusel-pedidos" style="max-width:900px;margin:auto;">
          <div id="carrusel-gestion" style="display:block;">
            <h2 style="color:#2575fc;margin-bottom:10px;">Gestión de pedidos</h2>
            <p style="margin-bottom:20px;color:#444;">En este modulo puedes realizar tus pedidos.</p>
            <div style="display:flex;align-items:center;justify-content:center;gap:24px;">
              <button id="btn-carrusel-pedidos-izq"
                style="background:linear-gradient(90deg,#2575fc,#6a11cb);color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:28px;cursor:pointer;flex-shrink:0;">&#8592;</button>
              <form id="pedidoForm"
                style="background:#f3f3f3;padding:28px 24px;border-radius:16px;max-width:420px;box-shadow:0 4px 16px rgba(106,17,203,0.08);">
                <div id="notificacion-pedido" class="notification success" style="display:none;margin-bottom:12px;">
                  ¡Pedido creado exitosamente!</div>
                <div style="margin-bottom:16px;">
                  <label for="cedula_cliente" style="color:#2575fc;font-weight:bold;">Cédula Cliente:</label><br>
                  <input type="text" id="cedula_cliente" name="cedula_cliente" required class="input-login"
                    style="margin-top:4px;background:#eaf3ff;color:#2575fc;font-weight:bold;" readonly>
                  <span id="cedulaClienteMsg" style="color:#d32f2f;font-size:14px;display:none;"></span>
                </div>
                <div style="margin-bottom:16px;">
                  <label for="codigo_producto" style="color:#2575fc;font-weight:bold;">Código Producto:</label><br>
                  <input type="text" id="codigo_producto" name="codigo_producto" maxlength="20" required
                    class="input-login" style="margin-top:4px;">
                  <button type="button" id="buscarProducto" class="btn-login"
                    style="margin-top:10px;width:100%;background:#2575fc;">Buscar producto</button>
                </div>
                <div id="datosProducto"
                  style="display:none;background:#f3f3f3;padding:18px 16px;border-radius:12px;margin-bottom:16px;box-shadow:0 2px 8px rgba(106,17,203,0.08);">
                  <div style="margin-bottom:8px;"><b style="color:#2575fc;">Nombre:</b> <span id="nombreProducto"
                      style="color:#444;"></span></div>
                  <div style="margin-bottom:8px;"><b style="color:#2575fc;">Categoría:</b> <span id="categoriaProducto"
                      style="color:#444;"></span></div>
                  <div style="margin-bottom:8px;"><b style="color:#2575fc;">Precio:</b> $<span id="precioProducto"
                      style="color:#444;"></span></div>
                  <div style="margin-bottom:8px;"><b style="color:#2575fc;">Stock:</b> <span id="stockProducto"
                      style="color:#444;"></span></div>
                  <div style="margin-bottom:8px;"><b style="color:#2575fc;">Cantidad:</b> <input type="number"
                      id="cantidadProducto" min="1" value="1" style="width:60px;"> </div>
                  <span id="productoMsg" style="color:#d32f2f;font-size:14px;display:none;"></span>
                </div>
                <button type="submit" class="btn-login" style="width:100%;margin-top:10px;">Crear Pedido</button>
              </form>
              <button id="btn-carrusel-pedidos-der"
                style="background:linear-gradient(90deg,#2575fc,#6a11cb);color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:28px;cursor:pointer;flex-shrink:0;">&#8594;</button>
            </div>
          </div>
          <div id="carrusel-mis" style="display:none;">
            <div style="display:flex;align-items:center;justify-content:center;gap:24px;">
              <button id="btn-carrusel-pedidos-izq-mis"
                style="background:linear-gradient(90deg,#2575fc,#6a11cb);color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:28px;cursor:pointer;flex-shrink:0;">&#8592;</button>
              <div style="width:100%;max-width:900px;">
                <h3 style="color:#2575fc;margin-top:10px;margin-bottom:18px;text-align:center;">Mis Pedidos</h3>
                <div
                  style="overflow-x:auto;background:#fff;padding:20px;border-radius:16px;box-shadow:0 8px 32px rgba(106,17,203,0.08);max-width:900px;margin:auto;">
                  <table id="tablaPedidos" style="min-width:700px;width:100%;border-collapse:collapse;">
                    <thead>
                      <tr style="background-color:#f3f3f3;color:#2575fc;">
                        <th style="padding:10px 8px;border-radius:8px 0 0 8px;">ID</th>
                        <th style="padding:10px 8px;">Código Pedido</th>
                        <th style="padding:10px 8px;">Cédula Cliente</th>
                        <th style="padding:10px 8px;">Código Producto</th>
                        <th style="padding:10px 8px;">Cantidad</th>
                        <th style="padding:10px 8px;">Nombre</th>
                        <th style="padding:10px 8px;">Categoría</th>
                        <th style="padding:10px 8px;">Precio</th>
                        <th style="padding:10px 8px;">Stock</th>
                        <th style="padding:10px 8px;border-radius:0 8px 8px 0;">Estado</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Los pedidos del cliente se mostrarán aquí -->
                    </tbody>
                  </table>
                </div>
              </div>
              <button id="btn-carrusel-pedidos-der-mis"
                style="background:linear-gradient(90deg,#2575fc,#6a11cb);color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:28px;cursor:pointer;flex-shrink:0;">&#8594;</button>
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- Modal para editar cliente (mover aquí, fuera de la sección 'Crear') -->
    <div id="modal-editar-cliente"
      style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);z-index:1000;justify-content:center;align-items:center;">
      <div
        style="background:#fff;padding:32px 28px;border-radius:16px;max-width:500px;width:90%;box-shadow:0 8px 32px rgba(106,17,203,0.15);position:relative;">
        <h2 style="color:#2575fc;margin-bottom:10px;">Editar cliente</h2>
        <form id="form-editar-cliente">
          <input type="text" name="cedula" placeholder="Cédula" required maxlength="10" class="input-login">
          <input type="text" name="nombre" placeholder="Nombre" required maxlength="10" class="input-login">
          <input type="text" name="apellido" placeholder="Apellido" required maxlength="10" class="input-login">
          <input type="text" name="ciudad" placeholder="Ciudad" required maxlength="10" class="input-login">
          <input type="email" name="email" placeholder="Email" required maxlength="30" class="input-login">
          <input type="text" name="direccion" placeholder="Dirección" maxlength="20" class="input-login">
          <input type="text" name="telefono" placeholder="Teléfono" maxlength="10" class="input-login">
          <input type="date" name="fecha_nacimiento" placeholder="Fecha de nacimiento" class="input-login">
          <input type="password" name="passwordCliente" placeholder="Contraseña" required maxlength="30"
            class="input-login">
          <button type="submit" class="btn-login" style="margin-top:10px;">Guardar cambios</button>
          <button type="button" id="btn-cerrar-modal-editar-cliente" class="btn-login"
            style="background:#d32f2f;margin-top:10px;">Cancelar</button>
        </form>
      </div>
    </div>
  </div>

</body>
<script src="perfil/perfil.js"></script>
<script src="listar/listar.js"></script>
<script src="carrito/carrito.js"></script>
<script src="pedidos/pedidos.js"></script>
<script>
  // Carrusel de pedidos con flechas en ambas vistas
  document.addEventListener('DOMContentLoaded', function () {
    const btnIzq = document.getElementById('btn-carrusel-pedidos-izq');
    const btnDer = document.getElementById('btn-carrusel-pedidos-der');
    const btnIzqMis = document.getElementById('btn-carrusel-pedidos-izq-mis');
    const btnDerMis = document.getElementById('btn-carrusel-pedidos-der-mis');
    const vistaGestion = document.getElementById('carrusel-gestion');
    const vistaMis = document.getElementById('carrusel-mis');
    let actual = 0; // 0: gestion, 1: mis pedidos
    function mostrarVista(idx) {
      if (idx === 0) {
        vistaGestion.style.display = 'block';
        vistaMis.style.display = 'none';
      } else {
        vistaGestion.style.display = 'none';
        vistaMis.style.display = 'block';
      }
      actual = idx;
    }
    // Flechas en gestión
    btnIzq.addEventListener('click', function () {
      mostrarVista(0);
    });
    btnDer.addEventListener('click', function () {
      mostrarVista(1);
    });
    // Flechas en mis pedidos
    btnIzqMis.addEventListener('click', function () {
      mostrarVista(0);
    });
    btnDerMis.addEventListener('click', function () {
      mostrarVista(1);
    });
    mostrarVista(0);
  });
</script>
</body>
</body>

</html>